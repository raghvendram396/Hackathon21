<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Registration</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <!--     Fonts and icons     -->
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet">

    <!-- CSS Files -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/gsdk-bootstrap-wizard.css" rel="stylesheet" />

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="/css/demo.css" rel="stylesheet" />
    <script src="/js/jquery-2.2.4.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/jquery.bootstrap.wizard.js" type="text/javascript"></script>
    <!--  Plugin for the Wizard -->
    <script src="/js/gsdk-bootstrap-wizard.js"></script>

    <!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
    <script src="/js/jquery.validate.min.js"></script>
</head>

<body>
    <div class="image-container set-full-height" style="background-image: url('/images/wizard.jpg')">

        <!--   Big container   -->
        <div class="container">
            <div class="row">
                <div class="col-sm-8 col-sm-offset-2">

                    <!--      Wizard container        -->
                    <div class="wizard-container">

                        <div class="card wizard-card" data-color="orange" id="wizardProfile">
                            <form action="/company_registartion_datails" method="post" enctype="multipart/form-data">
                                <!--        You can switch ' data-color="orange" '  with one of the next bright colors: "blue", "green", "orange", "red"          -->

                                <div class="wizard-header">
                                    <h3>
                                        <b>REGISTER</b> YOUR PROFILE <br>
                                        <small>This information will let people know more about you.</small>
                                    </h3>
                                </div>

                                <div class="wizard-navigation">
                                    <ul>
                                        <li><a href="#about" data-toggle="tab">Basic</a></li>
                                        <li><a href="#account" data-toggle="tab">More Details</a></li>
                                        <li><a href="#address" data-toggle="tab">Finish</a></li>
                                    </ul>
                                </div>

                                <div class="tab-content">
                                    <div class="tab-pane" id="about">
                                        <div class="row">
                                            <h4 class="info-text">Fill all details very carefully(It will show to apllicants)</h4>
                                            <h5 class="info-text" style="color: red;">
                                                <%=msg%>
                                            </h5>
                                            <div class="col-sm-4 col-sm-offset-1">
                                                <div class="picture-container">
                                                    <div class="picture">
                                                        <img class="picture-src" id="wizardPicturePreview" title="" />
                                                        <input name="logo" class="form-control" type="file" id="wizard_picture">
                                                    </div>
                                                    <h6>Choose Logo</h6>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label>Company Name <small>(required)</small></label>
                                                    <input id="com_name" name="c_name" type="text" class="form-control" placeholder="ABCD...." autocomplete="off">
                                                </div>
                                                <div class="form-group">
                                                    <label>CIN Number <small>(required)</small></label>
                                                    <input id="cin_num" name="cin_num" type="text" class="form-control" placeholder="Smith...">
                                                </div>
                                            </div>
                                            <div class="col-sm-10 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Email <small>(required)</small></label>
                                                    <input id="email" name="email" type="email" class="form-control" placeholder="abc@df.xyz">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="account">
                                        <div class="row">
                                            <div class="col-sm-8 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Password <small>(required)</small></label>
                                                    <input name="pass" id="paw" type="password" class="form-control">
                                                    <label id="strength-indicator" class="form-group" aria-placeholder="Password Strength"></label>
                                                </div>
                                            </div>
                                            <div class="col-sm-8 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Retype Password <small>(required)</small></label>
                                                    <input name="repass" type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-sm-8 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>CEO Name<small>(required)</small></label>
                                                    <input id="ceo_name" name="ceo_name" type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-sm-3 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Code</label>
                                                    <input id="c_code" name="c_code" type="text" class="form-control" placeholder="+91">
                                                </div>
                                            </div>
                                            <div class="col-sm-5 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Contact Number</label>
                                                    <input id="phone" name="phone" type="number" class="form-control" placeholder="123456789">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="address">
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <h4 class="info-text"> Tell us more about you</h4>
                                            </div>
                                            <div class="col-sm-9 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Description<small>(required)</small></label>
                                                    <textarea id="desc" name="desc" type="text" class="form-control" placeholder="About you......"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Country<small>(required)</small></label><br>
                                                    <select id="country" name="country" class="form-control">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>State<small>(required)</small></label>
                                                    <select id='state' name="state" class="form-control">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>City<small>(required)</small></label>
                                                    <select id='city' name="city" class="form-control">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Postal<small>(required)</small><label id="postal_check" style="color: red;">Not Valid</label></label>
                                                    <input id="postal" name="postal" type="number" class="form-control" placeholder="">
                                                </div>
                                            </div>
                                            <div class="col-sm-9 col-sm-offset-1">
                                                <div class="form-group">
                                                    <label>Headquarter Location<small>(required)</small></label>
                                                    <textarea id="loc" name="loc" type="text" class="form-control" placeholder="Main location of company"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- onclick="uploadData()" -->
                                <div class="wizard-footer height-wizard">
                                    <div class="pull-right">
                                        <input type='button' class='btn btn-next btn-fill btn-warning btn-wd btn-sm' name='next' value='Next' />
                                        <button type="button" id="submitt" class='btn btn-finish btn-fill btn-warning btn-wd btn-sm' name='finish'>Submit</button>
                                    </div>

                                    <div class="pull-left">
                                        <input type='button' class='btn btn-previous btn-fill btn-default btn-wd btn-sm' name='previous' value='Previous' />
                                    </div>
                                    <div class="clearfix"></div>
                                </div>

                            </form>
                        </div>
                    </div>
                    <!-- wizard container -->
                </div>
            </div>
            <!-- end row -->
        </div>
        <!--  big container -->

    </div>
    <script>
        var auth_token;
        $(document).ready(() => {
            $('#postal_check').hide()
            console.log('started')
            $.ajax({
                type: 'get',
                url: 'https://www.universal-tutorial.com/api/getaccesstoken',
                success: function(data) {
                    // console.log(data.auth_token)
                    auth_token = data.auth_token
                    getCountry(data.auth_token);
                },
                error: function(error) {
                    console.log(error)
                },
                headers: {
                    "Accept": "application/json",
                    "api-token": "m0J7HlArOVHhDZzCVYrUl9SiK0XFpszy-WdT_4J1xDMqIGwdZwakup9z6IxrS-ntg0M",
                    "user-email": "vaibhav.viveka@gmail.com"
                }
            })
        })

        $('#postal').change(() => {
            let ch = 0
            $.ajax({
                url: `https://api.postalpincode.in/pincode/${$('#postal').val()}`,
                type: 'get',
                success: function(data) {
                    console.log(data[0].PostOffice)
                    if (data[0].PostOffice === null) {
                        $('#postal').val('')
                        $('#postal_check').text('Invalid Postal Code')
                        $('#postal_check').show()
                    } else {
                        (data[0].PostOffice).forEach(element => {
                            if (element.State === $('#state').val() || element.District === $('#city').val()) {
                                $('#postal_check').html('<i class="fa fa-check" style="color:green" aria-hidden="true"></i>')
                                $('#postal_check').show()
                                ch = 1;
                            }
                        })
                        if (ch === 0) {
                            $('#postal').val('')
                            $('#postal_check').text('Invalid Postal Code')
                            $('#postal_check').show()
                        }
                    }
                },
                error: function(err) {
                    console.log(err)
                }
            })
        })

        function getCountry(auth) {
            $.ajax({
                url: 'https://www.universal-tutorial.com/api/countries/',
                type: 'get',
                success: function(data) {
                    $('#postal').val('')
                    data.forEach(element => {
                        $('#country').append(`<option value='${element.country_name}'>${element.country_name}</option>`)
                    });
                },
                error: function(err) {
                    console.log(err)
                },
                headers: {
                    "Authorization": "Bearer " + auth,
                    "Accept": "application/json"
                }
            })
        }
        $('#country').change(() => {
            let val = $('#country').val()
            $.ajax({
                url: `https://www.universal-tutorial.com/api/states/${val}`,
                type: 'get',
                success: function(data) {
                    $('#state').empty()
                    $('#postal').val('')
                    $('#state').val('')
                    $('#city').val('')
                    data.forEach(element => {
                        // let val_store = element.state_name
                        // console.log(val_store)
                        $('#state').append(`<option value='${element.state_name}'>${element.state_name}</option>`)
                    });
                },
                error: function(err) {
                    console.log(err)
                },
                headers: {
                    "Authorization": "Bearer " + auth_token,
                    "Accept": "application/json"
                }
            })
        })
        $('#state').change(() => {
            let val = $('#state').val()
            $.ajax({
                url: `https://www.universal-tutorial.com/api/cities/${val}`,
                type: 'get',
                success: function(data) {
                    $('#city').empty()
                    $('#postal').val('')
                    $('#city').val('')
                    data.forEach(element => {
                        $('#city').append(`<option value='${element.city_name}'>${element.city_name}</option>`)
                    });
                },
                error: function(err) {
                    console.log(err)
                },
                headers: {
                    "Authorization": "Bearer " + auth_token,
                    "Accept": "application/json"
                }
            })
        })
        $('#city').change(() => {
            $('#postal').val('')
        })
    </script>
    <!--   Core JS Files   -->


    <script>
        $("#submitt").click(function() {
            if ($('postal').val !== '') {
                $('form').submit();
            }
        });
    </script>
    <!-- // let formData = new FormData(); // formData.append("file", (wizard_picture).files[0]); // formData.append("c_name", $("#com_name").val()); // formData.append("cin_num", $("#cin_num").val()); // formData.append("email", $("#email").val()); // formData.append("pass",
    $("#paw").val()); // formData.append("ceo_name", $("#ceo_name").val()); // formData.append("c_code", $("#c_code").val()); // formData.append("phone", $("#phone").val()); // formData.append("desc", $("#desc").val()); // formData.append("loc", $("#loc").val());
    // formData.append("city", $("#city").val()); // formData.append("postal", $("#postal").val()); // formData.append("state", $("#state").val()); // formData.append("country", $("#country").val()); // await ('/company_registartion_datails', { // method:
    "POST", // body: formData // }); -->

</body>



</html>